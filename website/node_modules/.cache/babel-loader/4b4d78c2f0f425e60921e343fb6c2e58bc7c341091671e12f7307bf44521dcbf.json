{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./AdminDashboard.css';import AddVegetable from'./AddVegetable';import ModifyVegetable from'./ModifyVegetable';import WelcomePage from'./WelcomePage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminDashboard(){const[products,setProducts]=useState([]);const[activePage,setActivePage]=useState('welcome');useEffect(()=>{fetch('http://localhost:5001/api/products').then(res=>res.json()).then(data=>setProducts(data));},[]);const handleAddProduct=newProduct=>{fetch('http://localhost:5001/api/products',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newProduct)}).then(res=>res.json()).then(data=>{setProducts([...products,data]);});};const handleUpdateProduct=updatedProduct=>{fetch(\"http://localhost:5001/api/products/\".concat(updatedProduct._id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(updatedProduct)}).then(res=>res.json()).then(data=>{setProducts(products.map(p=>p._id===data._id?data:p));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActivePage('welcome'),children:\"Welcome\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActivePage('add'),children:\"Add New Vegetable\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActivePage('modify'),children:\"Modify Existing Vegetable\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[activePage==='welcome'&&/*#__PURE__*/_jsx(WelcomePage,{}),activePage==='add'&&/*#__PURE__*/_jsx(AddVegetable,{onAdd:handleAddProduct}),activePage==='modify'&&/*#__PURE__*/_jsx(ModifyVegetable,{products:products,onUpdate:handleUpdateProduct})]})]});}export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","AddVegetable","ModifyVegetable","WelcomePage","jsx","_jsx","jsxs","_jsxs","AdminDashboard","products","setProducts","activePage","setActivePage","fetch","then","res","json","data","handleAddProduct","newProduct","method","headers","body","JSON","stringify","handleUpdateProduct","updatedProduct","concat","_id","map","p","className","children","onClick","onAdd","onUpdate"],"sources":["/home/abhilash/veggiemarket-ci-cd/website/src/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './AdminDashboard.css';\nimport AddVegetable from './AddVegetable';\nimport ModifyVegetable from './ModifyVegetable';\nimport WelcomePage from './WelcomePage';\n\nfunction AdminDashboard() {\n    const [products, setProducts] = useState([]);\n    const [activePage, setActivePage] = useState('welcome');\n\n    useEffect(() => {\n        fetch('http://localhost:5001/api/products')\n            .then(res => res.json())\n            .then(data => setProducts(data));\n    }, []);\n\n    const handleAddProduct = (newProduct) => {\n        fetch('http://localhost:5001/api/products', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(newProduct)\n        })\n        .then(res => res.json())\n        .then(data => {\n            setProducts([...products, data]);\n        });\n    };\n\n    const handleUpdateProduct = (updatedProduct) => {\n        fetch(`http://localhost:5001/api/products/${updatedProduct._id}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(updatedProduct)\n        })\n        .then(res => res.json())\n        .then(data => {\n            setProducts(products.map(p => p._id === data._id ? data : p));\n        });\n    };\n\n    return (\n        <div className=\"admin-dashboard\">\n            <div className=\"sidebar\">\n                <button onClick={() => setActivePage('welcome')}>Welcome</button>\n                <button onClick={() => setActivePage('add')}>Add New Vegetable</button>\n                <button onClick={() => setActivePage('modify')}>Modify Existing Vegetable</button>\n            </div>\n            <div className=\"content\">\n                {activePage === 'welcome' && <WelcomePage />}\n                {activePage === 'add' && <AddVegetable onAdd={handleAddProduct} />}\n                {activePage === 'modify' && <ModifyVegetable products={products} onUpdate={handleUpdateProduct} />}\n            </div>\n        </div>\n    );\n}\n\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}